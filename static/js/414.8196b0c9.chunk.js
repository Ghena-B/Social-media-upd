"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[414],{8414:function(e,r,a){a.r(r),a.d(r,{default:function(){return x}});var s=a(8687),n=a(2791),t=a(7689),i=a(1413),c=a(6908),o=a(7338),l=a(9004),d=a(1134),h=a(184),m=function(e){var r=(0,d.cI)(),a=(r.register,r.handleSubmit),s=r.control,n=r.formState.errors;return(0,h.jsxs)("form",{onSubmit:a((function(r){e.login(r.email,r.password,r.rememberMe,r.captcha)})),action:"",name:"login-form",children:[(0,h.jsxs)("div",{style:{marginBottom:20,maxWidth:300},children:[(0,h.jsx)("label",{htmlFor:"email",children:"Email"}),(0,h.jsx)(d.Qr,{name:"email",control:s,rules:{required:!0,pattern:{value:/^\S+@\S+$/i,message:"Invalid email format"}},render:function(e){var r=e.field;return(0,h.jsx)(c.Z,(0,i.Z)((0,i.Z)({},r),{},{type:"email",placeholder:"Login"}))}}),n.email&&(0,h.jsx)("span",{children:n.email.message})]}),(0,h.jsxs)("div",{style:{marginBottom:20,maxWidth:300},children:[(0,h.jsx)("label",{htmlFor:"password",children:"Password"}),(0,h.jsx)(d.Qr,{name:"password",control:s,rules:{required:!0,minLength:{value:4,message:"Password must have at least 4 characters"}},render:function(e){var r=e.field;return(0,h.jsx)(c.Z.Password,(0,i.Z)((0,i.Z)({},r),{},{placeholder:"Password"}))}}),n.password&&(0,h.jsx)("span",{children:n.password.message})]}),(0,h.jsx)("div",{style:{marginBottom:10},children:(0,h.jsx)(d.Qr,{name:"rememberMe",control:s,render:function(e){var r=e.field;return(0,h.jsx)(o.Z,(0,i.Z)((0,i.Z)({},r),{},{checked:r.value,onChange:function(e){return r.onChange(e.target.checked)},children:"Remember Me"}))}})}),(0,h.jsxs)("div",{style:{marginBottom:10},children:[e.captcha&&(0,h.jsx)("img",{src:e.captcha,alt:"captcha"}),e.captcha&&(0,h.jsx)(d.Qr,{name:"captcha",control:s,rules:{required:!0},render:function(e){var r=e.field;return(0,h.jsx)(c.Z,(0,i.Z)((0,i.Z)({},r),{},{placeholder:"Enter captcha"}))}}),n.captcha&&(0,h.jsx)("span",{children:n.captcha.message})]}),(0,h.jsx)("div",{children:e.errorMessage&&(0,h.jsx)("p",{children:e.errorMessage})}),(0,h.jsx)("div",{children:(0,h.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Login"})})]})},u=function(e){var r=e.isAuth,a=e.login,s=e.errorMessage,i=e.captcha,c=(0,t.s0)();return(0,n.useEffect)((function(){r&&c("/profile")}),[r,c]),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Login"}),(0,h.jsx)(m,{login:a,errorMessage:s,captcha:i}),(0,h.jsx)("h3",{children:"Test account:"}),(0,h.jsx)("div",{children:"Email: free@samuraijs.com"}),(0,h.jsx)("div",{children:"Password: free"})]})},p=a(5309),x=(0,s.$j)((function(e){return{isAuth:e.auth.isAuthorized,errorMessage:e.auth.errorMessage,captcha:e.auth.captchaUrl}}),{login:p.x4,setError:p.Nw.setError})(u)}}]);
//# sourceMappingURL=414.8196b0c9.chunk.js.map